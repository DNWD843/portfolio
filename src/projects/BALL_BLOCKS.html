<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>BALL & BLOCKS</title>
  </head>

  <body>
    <canvas id="canvas" width="1190" height="700"></canvas>
    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
    <script>
      var canvas = document.getElementById('canvas');
      var ctx = canvas.getContext('2d');
      var width = canvas.width;
      var height = canvas.height;
      //создаем переменные для разметки игрового поля на ячейки 10х10 пикселей
      var blockSize = 10;
      var widthInBlocks = width / blockSize;
      var heightInBlocks = height / blockSize;
      //переменная для ведения счета
      var score = 0;
      var scoreTry = 6;
      var rounds = 1;
      //рисуем рамку для игрового поля. создаем функцию drawBorder
      var drawBorder = function () {
        ctx.fillStyle = 'gray';
        ctx.fillRect(0, 0, width, blockSize);
        ctx.fillRect(0, height - blockSize, width, blockSize);
        ctx.fillRect(0, 0, blockSize, height);
        ctx.fillRect(width - blockSize, 0, blockSize, height);
      };

      function drawField() {
        ctx.beginPath();
        ctx.fillStyle = 'palegreen';
        ctx.fillRect(10, 10, width - blockSize * 2, height - blockSize * 2);
      }
      //создаем функцию отображения счета  и попыток drawScore
      var drawScore = function () {
        ctx.font = '20px Courier';
        ctx.fillStyle = 'black';
        ctx.textBaseline = 'top';
        ctx.textAlign = 'left';
        ctx.fillText(
          'Счет: ' + score + '       ' + 'Осталось попыток: ' + scoreTry,
          blockSize,
          blockSize,
        );
        ctx.fillText('Раунд: ' + rounds, blockSize * 105, blockSize);
      };
      //создаем конструктор для ячеек сетки
      var Block = function (col, row) {
        this.col = col;
        this.row = row;
      };
      //для рисования в заданной ячейке квадрата или окружности создаем два метода
      //метод drawSquare и метод drawCircle
      Block.prototype.drawSquare = function (color) {
        var x = this.col * blockSize;
        var y = this.row * blockSize;
        ctx.fillStyle = color;
        ctx.fillRect(x, y, blockSize, blockSize);
      };
      Block.prototype.drawCircle = function (color) {
        var centerX = this.col * blockSize + blockSize / 2;
        var centerY = this.row * blockSize + blockSize / 2;
        ctx.fillStyle = color;
        circle(centerX, centerY, blockSize, true);
      };
      //функция рисования окружностей (для метода drawCircle)
      var circle = function (x, y, r, fillCircle) {
        ctx.beginPath();
        ctx.arc(x, y, r, 0, Math.PI * 2, false);
        if (fillCircle) {
          ctx.fill();
        }
        ctx.stroke();
      };
      //Первым делом нам нужен конструктор для создания объекта-биты:
      var Bat = function () {
        this.segments = [
          new Block(60, 66),
          new Block(61, 66),
          new Block(62, 66),
          new Block(63, 66),
          new Block(64, 66),
          new Block(65, 66),
          new Block(66, 66),
          new Block(67, 66),
          new Block(68, 66),
          new Block(69, 66),
          new Block(70, 66),
          new Block(71, 66),
          new Block(72, 66),
          new Block(73, 66),
          new Block(74, 66),
          new Block(75, 66),
          new Block(76, 66),
          new Block(77, 66),
        ];
      };
      /*Рисуем биту
        Чтобы нарисовать биту, нам нужно перебрать в цикле все объекты-биты из массива segments, вызывая методы drawSquare.
        Таким образом, для каждого сегмента биты в соответствующей ячейке будет нарисован квадрат.*/

      Bat.prototype.draw = function () {
        for (var i = 0; i < this.segments.length; i++) {
          this.segments[i].drawSquare('Blue');
        }
      };
      var directions = {
        37: 'left',
        39: 'right',
      };
      var newDirection;
      //вызываем функция движения биты только при нажатии на стрелку
      $('body').keydown(function (event) {
        newDirection = directions[event.keyCode];
        if (newDirection !== undefined) {
          bat.move();
        }
      });
      //обозначаем границы слева и справа и при необходимости можем их отрисовать (см ниже)
      var LeftBorder = function () {
        this.position = new Block(2, 66);
      };
      LeftBorder.prototype.draw = function () {
        this.position.drawSquare('LimeGreen');
      };
      var RightBorder = function () {
        this.position = new Block(116, 66);
      };
      RightBorder.prototype.draw = function () {
        this.position.drawSquare('LimeGreen');
      };
      //ограничители перемещения биты
      var stopLeft = 0;
      var stopRight = 0;
      Bat.prototype.move = function () {
        var leftEdge = this.segments[0];
        var rightEdge = this.segments[this.segments.length - 1];
        var newRightEdge;
        var newLeftEdge;

        if (newDirection === 'right' && stopRight !== 1) {
          stopLeft = 0;
          newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
          this.segments.push(newRightEdge);
          this.segments.shift(leftEdge);
        }
        if (newDirection === 'left' && stopLeft !== 1) {
          stopRight = 0;
          newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
          this.segments.unshift(newLeftEdge);
          this.segments.pop(rightEdge);
        }
        //условие достижение крайних положений
        if (leftBorder.position.equal(leftEdge)) {
          stopLeft = 1;
        }
        if (rightBorder.position.equal(rightEdge)) {
          stopRight = 1;
        }
      };
      //создаем метод проверки совпадения блоков двух разных объектов
      //если совпадение есть - метод вернет true, если нет- false
      //используем оператор return
      //equal - сравнение
      Block.prototype.equal = function (otherBlock) {
        return (
          this.row === otherBlock.row &&
          (this.col || this.col - 1 / 2 || this.col + 1 / 2) === otherBlock.col
        );
      };
      //**************************************************************************************************
      function Ball() {
        this.x = Math.floor((Math.random() + 0.1) * 10) * 10;
        this.y = 30;
        this.position = new Block(this.x, this.y);
      }
      //напишем метод draw для отрисовки мяча.
      //Мы добавим этот метод к свойству prototype
      //конструктора Ball, чтобы все объекты, созданные
      //при помощи Ball, могли его использовать
      //функция рисования круга с заливкой и без
      Ball.prototype.draw = function () {
        this.position.drawCircle('red');
      };
      //создаем метод перемещения мяча
      var xSpeed = 1 / 2;
      var ySpeed = 1 / 2;
      Ball.prototype.move = function () {
        this.x += xSpeed;
        this.y += ySpeed;
        this.position = new Block(this.x, this.y);
        for (var i = 0; i < bat.segments.length; i++) {
          if (bat.segments[i].equal(ball.position)) {
            ySpeed = -ySpeed;
          }
        }
        //1 раунд******************************************************************************
        if (rounds === 1 && score < 26) {
          for (var k = 0; k < brick1.horSides.length; k++) {
            if (brick1.horSides[k].equal(ball.position) && brick1.hit === 'false') {
              ySpeed = -ySpeed;
              brick1.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick1.vertSides.length; k++) {
            if (brick1.vertSides[k].equal(ball.position) && brick1.hit === 'false') {
              xSpeed = -xSpeed;
              brick1.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick2.horSides.length; k++) {
            if (brick2.horSides[k].equal(ball.position) && brick2.hit === 'false') {
              ySpeed = -ySpeed;
              brick2.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              //newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.pop(rightEdge);
              //newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.shift(leftEdge);
            }
          }
          for (var k = 0; k < brick2.vertSides.length; k++) {
            if (brick2.vertSides[k].equal(ball.position) && brick2.hit === 'false') {
              xSpeed = -xSpeed;
              brick2.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              //newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.pop(rightEdge);
              //newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.shift(leftEdge);
            }
          }
          for (var k = 0; k < brick3.horSides.length; k++) {
            if (brick3.horSides[k].equal(ball.position) && brick3.hit === 'false') {
              ySpeed = -ySpeed;
              brick3.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick3.vertSides.length; k++) {
            if (brick3.vertSides[k].equal(ball.position) && brick3.hit === 'false') {
              xSpeed = -xSpeed;
              brick3.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick4.horSides.length; k++) {
            if (brick4.horSides[k].equal(ball.position) && brick4.hit === 'false') {
              ySpeed = -ySpeed;
              brick4.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick4.vertSides.length; k++) {
            if (brick4.vertSides[k].equal(ball.position) && brick4.hit === 'false') {
              xSpeed = -xSpeed;
              brick4.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick5.horSides.length; k++) {
            if (brick5.horSides[k].equal(ball.position) && brick5.hit === 'false') {
              ySpeed = -ySpeed;
              brick5.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick5.vertSides.length; k++) {
            if (brick5.vertSides[k].equal(ball.position) && brick5.hit === 'false') {
              xSpeed = -xSpeed;
              brick5.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick6.horSides.length; k++) {
            if (brick6.horSides[k].equal(ball.position) && brick6.hit === 'false') {
              ySpeed = -ySpeed;
              brick6.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick6.vertSides.length; k++) {
            if (brick6.vertSides[k].equal(ball.position) && brick6.hit === 'false') {
              xSpeed = -xSpeed;
              brick6.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick7.horSides.length; k++) {
            if (brick7.horSides[k].equal(ball.position) && brick7.hit === 'false') {
              ySpeed = -ySpeed;
              brick7.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick7.vertSides.length; k++) {
            if (brick7.vertSides[k].equal(ball.position) && brick7.hit === 'false') {
              xSpeed = -xSpeed;
              brick7.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick8.horSides.length; k++) {
            if (brick8.horSides[k].equal(ball.position) && brick8.hit === 'false') {
              ySpeed = -ySpeed;
              brick8.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick8.vertSides.length; k++) {
            if (brick8.vertSides[k].equal(ball.position) && brick8.hit === 'false') {
              xSpeed = -xSpeed;
              brick8.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick9.horSides.length; k++) {
            if (brick9.horSides[k].equal(ball.position) && brick9.hit === 'false') {
              ySpeed = -ySpeed;
              brick9.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick9.vertSides.length; k++) {
            if (brick9.vertSides[k].equal(ball.position) && brick9.hit === 'false') {
              xSpeed = -xSpeed;
              brick9.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick10.horSides.length; k++) {
            if (brick10.horSides[k].equal(ball.position) && brick10.hit === 'false') {
              ySpeed = -ySpeed;
              brick10.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick10.vertSides.length; k++) {
            if (brick10.vertSides[k].equal(ball.position) && brick10.hit === 'false') {
              xSpeed = -xSpeed;
              brick10.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick11.horSides.length; k++) {
            if (brick11.horSides[k].equal(ball.position) && brick11.hit === 'false') {
              ySpeed = -ySpeed;
              brick11.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick11.vertSides.length; k++) {
            if (brick11.vertSides[k].equal(ball.position) && brick11.hit === 'false') {
              xSpeed = -xSpeed;
              brick11.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick12.horSides.length; k++) {
            if (brick12.horSides[k].equal(ball.position) && brick12.hit === 'false') {
              ySpeed = -ySpeed;
              brick12.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              //newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.pop(rightEdge);
              //newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.shift(leftEdge);
            }
          }
          for (var k = 0; k < brick12.vertSides.length; k++) {
            if (brick12.vertSides[k].equal(ball.position) && brick12.hit === 'false') {
              xSpeed = -xSpeed;
              brick12.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              //newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.pop(rightEdge);
              //newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.shift(leftEdge);
            }
          }
          for (var k = 0; k < brick13.horSides.length; k++) {
            if (brick13.horSides[k].equal(ball.position) && brick13.hit === 'false') {
              ySpeed = -ySpeed;
              brick13.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick13.vertSides.length; k++) {
            if (brick13.vertSides[k].equal(ball.position) && brick13.hit === 'false') {
              xSpeed = -xSpeed;
              brick13.hit = 'true';
              score += 1;
            }
          }
          // вторая линия кирпичей

          for (var k = 0; k < brick14.horSides.length; k++) {
            if (brick14.horSides[k].equal(ball.position) && brick14.hit === 'false') {
              ySpeed = -ySpeed;
              brick14.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick14.vertSides.length; k++) {
            if (brick14.vertSides[k].equal(ball.position) && brick14.hit === 'false') {
              xSpeed = -xSpeed;
              brick14.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick15.horSides.length; k++) {
            if (brick15.horSides[k].equal(ball.position) && brick15.hit === 'false') {
              ySpeed = -ySpeed;
              brick15.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick15.vertSides.length; k++) {
            if (brick15.vertSides[k].equal(ball.position) && brick15.hit === 'false') {
              xSpeed = -xSpeed;
              brick15.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }

          for (var k = 0; k < brick16.horSides.length; k++) {
            if (brick16.horSides[k].equal(ball.position) && brick16.hit === 'false') {
              ySpeed = -ySpeed;
              brick16.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick16.vertSides.length; k++) {
            if (brick16.vertSides[k].equal(ball.position) && brick16.hit === 'false') {
              xSpeed = -xSpeed;
              brick16.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick17.horSides.length; k++) {
            if (brick17.horSides[k].equal(ball.position) && brick17.hit === 'false') {
              ySpeed = -ySpeed;
              brick17.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick17.vertSides.length; k++) {
            if (brick17.vertSides[k].equal(ball.position) && brick17.hit === 'false') {
              xSpeed = -xSpeed;
              brick17.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick18.horSides.length; k++) {
            if (brick18.horSides[k].equal(ball.position) && brick18.hit === 'false') {
              ySpeed = -ySpeed;
              brick18.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick18.vertSides.length; k++) {
            if (brick18.vertSides[k].equal(ball.position) && brick18.hit === 'false') {
              xSpeed = -xSpeed;
              brick18.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick19.horSides.length; k++) {
            if (brick19.horSides[k].equal(ball.position) && brick19.hit === 'false') {
              ySpeed = -ySpeed;
              brick19.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick19.vertSides.length; k++) {
            if (brick19.vertSides[k].equal(ball.position) && brick19.hit === 'false') {
              xSpeed = -xSpeed;
              brick19.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick20.horSides.length; k++) {
            if (brick20.horSides[k].equal(ball.position) && brick20.hit === 'false') {
              ySpeed = -ySpeed;
              brick20.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick20.vertSides.length; k++) {
            if (brick20.vertSides[k].equal(ball.position) && brick20.hit === 'false') {
              xSpeed = -xSpeed;
              brick20.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick21.horSides.length; k++) {
            if (brick21.horSides[k].equal(ball.position) && brick21.hit === 'false') {
              ySpeed = -ySpeed;
              brick21.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick21.vertSides.length; k++) {
            if (brick21.vertSides[k].equal(ball.position) && brick21.hit === 'false') {
              xSpeed = -xSpeed;
              brick21.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick22.horSides.length; k++) {
            if (brick22.horSides[k].equal(ball.position) && brick22.hit === 'false') {
              ySpeed = -ySpeed;
              brick22.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick22.vertSides.length; k++) {
            if (brick22.vertSides[k].equal(ball.position) && brick22.hit === 'false') {
              xSpeed = -xSpeed;
              brick22.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick23.horSides.length; k++) {
            if (brick23.horSides[k].equal(ball.position) && brick23.hit === 'false') {
              ySpeed = -ySpeed;
              brick23.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick23.vertSides.length; k++) {
            if (brick23.vertSides[k].equal(ball.position) && brick23.hit === 'false') {
              xSpeed = -xSpeed;
              brick23.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick24.horSides.length; k++) {
            if (brick24.horSides[k].equal(ball.position) && brick24.hit === 'false') {
              ySpeed = -ySpeed;
              brick24.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick24.vertSides.length; k++) {
            if (brick24.vertSides[k].equal(ball.position) && brick24.hit === 'false') {
              xSpeed = -xSpeed;
              brick24.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick25.horSides.length; k++) {
            if (brick25.horSides[k].equal(ball.position) && brick25.hit === 'false') {
              ySpeed = -ySpeed;
              brick25.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick25.vertSides.length; k++) {
            if (brick25.vertSides[k].equal(ball.position) && brick25.hit === 'false') {
              xSpeed = -xSpeed;
              brick25.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }

          for (var k = 0; k < brick26.horSides.length; k++) {
            if (brick26.horSides[k].equal(ball.position) && brick26.hit === 'false') {
              ySpeed = -ySpeed;
              brick26.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick26.vertSides.length; k++) {
            if (brick26.vertSides[k].equal(ball.position) && brick26.hit === 'false') {
              xSpeed = -xSpeed;
              brick26.hit = 'true';
              score += 1;
            }
          }
        } else if (score > 25) {
          //2 раунд *****************************************************************************
          //*************************************************************************************
          //ускоряем игру

          //2 раунд 1 линия кирпичей
          for (var k = 0; k < brick27.horSides.length; k++) {
            if (brick27.horSides[k].equal(ball.position) && brick27.hit === 'false') {
              ySpeed = -ySpeed;
              brick27.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick27.vertSides.length; k++) {
            if (brick27.vertSides[k].equal(ball.position) && brick27.hit === 'false') {
              xSpeed = -xSpeed;
              brick27.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick28.horSides.length; k++) {
            if (brick28.horSides[k].equal(ball.position) && brick28.hit === 'false') {
              ySpeed = -ySpeed;
              brick28.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick28.vertSides.length; k++) {
            if (brick28.vertSides[k].equal(ball.position) && brick28.hit === 'false') {
              xSpeed = -xSpeed;
              brick28.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick29.horSides.length; k++) {
            if (brick29.horSides[k].equal(ball.position) && brick29.hit === 'false') {
              ySpeed = -ySpeed;
              brick29.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick29.vertSides.length; k++) {
            if (brick29.vertSides[k].equal(ball.position) && brick29.hit === 'false') {
              xSpeed = -xSpeed;
              brick29.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick30.horSides.length; k++) {
            if (brick30.horSides[k].equal(ball.position) && brick30.hit === 'false') {
              ySpeed = -ySpeed;
              brick30.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick30.vertSides.length; k++) {
            if (brick30.vertSides[k].equal(ball.position) && brick30.hit === 'false') {
              xSpeed = -xSpeed;
              brick30.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick31.horSides.length; k++) {
            if (brick31.horSides[k].equal(ball.position) && brick31.hit === 'false') {
              ySpeed = -ySpeed;
              brick31.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick31.vertSides.length; k++) {
            if (brick31.vertSides[k].equal(ball.position) && brick31.hit === 'false') {
              xSpeed = -xSpeed;
              brick31.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick32.horSides.length; k++) {
            if (brick32.horSides[k].equal(ball.position) && brick32.hit === 'false') {
              ySpeed = -ySpeed;
              brick32.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick32.vertSides.length; k++) {
            if (brick32.vertSides[k].equal(ball.position) && brick32.hit === 'false') {
              xSpeed = -xSpeed;
              brick32.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick33.horSides.length; k++) {
            if (brick33.horSides[k].equal(ball.position) && brick33.hit === 'false') {
              ySpeed = -ySpeed;
              brick33.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick33.vertSides.length; k++) {
            if (brick33.vertSides[k].equal(ball.position) && brick33.hit === 'false') {
              xSpeed = -xSpeed;
              brick33.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick34.horSides.length; k++) {
            if (brick34.horSides[k].equal(ball.position) && brick34.hit === 'false') {
              ySpeed = -ySpeed;
              brick34.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick34.vertSides.length; k++) {
            if (brick34.vertSides[k].equal(ball.position) && brick34.hit === 'false') {
              xSpeed = -xSpeed;
              brick34.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick35.horSides.length; k++) {
            if (brick35.horSides[k].equal(ball.position) && brick35.hit === 'false') {
              ySpeed = -ySpeed;
              brick35.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick35.vertSides.length; k++) {
            if (brick35.vertSides[k].equal(ball.position) && brick35.hit === 'false') {
              xSpeed = -xSpeed;
              brick35.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick36.horSides.length; k++) {
            if (brick36.horSides[k].equal(ball.position) && brick36.hit === 'false') {
              ySpeed = -ySpeed;
              brick36.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick36.vertSides.length; k++) {
            if (brick36.vertSides[k].equal(ball.position) && brick36.hit === 'false') {
              xSpeed = -xSpeed;
              brick36.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick37.horSides.length; k++) {
            if (brick37.horSides[k].equal(ball.position) && brick37.hit === 'false') {
              ySpeed = -ySpeed;
              brick37.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick37.vertSides.length; k++) {
            if (brick37.vertSides[k].equal(ball.position) && brick37.hit === 'false') {
              xSpeed = -xSpeed;
              brick37.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick38.horSides.length; k++) {
            if (brick38.horSides[k].equal(ball.position) && brick38.hit === 'false') {
              ySpeed = -ySpeed;
              brick38.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick38.vertSides.length; k++) {
            if (brick38.vertSides[k].equal(ball.position) && brick38.hit === 'false') {
              xSpeed = -xSpeed;
              brick38.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick39.horSides.length; k++) {
            if (brick39.horSides[k].equal(ball.position) && brick39.hit === 'false') {
              ySpeed = -ySpeed;
              brick39.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick39.vertSides.length; k++) {
            if (brick39.vertSides[k].equal(ball.position) && brick39.hit === 'false') {
              xSpeed = -xSpeed;
              brick39.hit = 'true';
              score += 1;
            }
          }
          // вторая линия кирпичей

          for (var k = 0; k < brick40.horSides.length; k++) {
            if (brick40.horSides[k].equal(ball.position) && brick40.hit === 'false') {
              ySpeed = -ySpeed;
              brick40.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick40.vertSides.length; k++) {
            if (brick40.vertSides[k].equal(ball.position) && brick40.hit === 'false') {
              xSpeed = -xSpeed;
              brick40.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick41.horSides.length; k++) {
            if (brick41.horSides[k].equal(ball.position) && brick41.hit === 'false') {
              ySpeed = -ySpeed;
              brick41.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick41.vertSides.length; k++) {
            if (brick41.vertSides[k].equal(ball.position) && brick41.hit === 'false') {
              xSpeed = -xSpeed;
              brick41.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }

          for (var k = 0; k < brick42.horSides.length; k++) {
            if (brick42.horSides[k].equal(ball.position) && brick42.hit === 'false') {
              ySpeed = -ySpeed;
              brick42.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick42.vertSides.length; k++) {
            if (brick42.vertSides[k].equal(ball.position) && brick42.hit === 'false') {
              xSpeed = -xSpeed;
              brick42.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick43.horSides.length; k++) {
            if (brick43.horSides[k].equal(ball.position) && brick43.hit === 'false') {
              ySpeed = -ySpeed;
              brick43.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick43.vertSides.length; k++) {
            if (brick43.vertSides[k].equal(ball.position) && brick43.hit === 'false') {
              xSpeed = -xSpeed;
              brick43.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick44.horSides.length; k++) {
            if (brick44.horSides[k].equal(ball.position) && brick44.hit === 'false') {
              ySpeed = -ySpeed;
              brick44.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick44.vertSides.length; k++) {
            if (brick44.vertSides[k].equal(ball.position) && brick44.hit === 'false') {
              xSpeed = -xSpeed;
              brick44.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick45.horSides.length; k++) {
            if (brick45.horSides[k].equal(ball.position) && brick45.hit === 'false') {
              ySpeed = -ySpeed;
              brick45.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick45.vertSides.length; k++) {
            if (brick45.vertSides[k].equal(ball.position) && brick45.hit === 'false') {
              xSpeed = -xSpeed;
              brick45.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick46.horSides.length; k++) {
            if (brick46.horSides[k].equal(ball.position) && brick46.hit === 'false') {
              ySpeed = -ySpeed;
              brick46.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick46.vertSides.length; k++) {
            if (brick46.vertSides[k].equal(ball.position) && brick46.hit === 'false') {
              xSpeed = -xSpeed;
              brick46.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick47.horSides.length; k++) {
            if (brick47.horSides[k].equal(ball.position) && brick47.hit === 'false') {
              ySpeed = -ySpeed;
              brick47.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick47.vertSides.length; k++) {
            if (brick47.vertSides[k].equal(ball.position) && brick47.hit === 'false') {
              xSpeed = -xSpeed;
              brick47.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick48.horSides.length; k++) {
            if (brick48.horSides[k].equal(ball.position) && brick48.hit === 'false') {
              ySpeed = -ySpeed;
              brick48.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick48.vertSides.length; k++) {
            if (brick48.vertSides[k].equal(ball.position) && brick48.hit === 'false') {
              xSpeed = -xSpeed;
              brick48.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick49.horSides.length; k++) {
            if (brick49.horSides[k].equal(ball.position) && brick49.hit === 'false') {
              ySpeed = -ySpeed;
              brick49.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick49.vertSides.length; k++) {
            if (brick49.vertSides[k].equal(ball.position) && brick49.hit === 'false') {
              xSpeed = -xSpeed;
              brick49.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick50.horSides.length; k++) {
            if (brick50.horSides[k].equal(ball.position) && brick50.hit === 'false') {
              ySpeed = -ySpeed;
              brick50.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick50.vertSides.length; k++) {
            if (brick50.vertSides[k].equal(ball.position) && brick50.hit === 'false') {
              xSpeed = -xSpeed;
              brick50.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick51.horSides.length; k++) {
            if (brick51.horSides[k].equal(ball.position) && brick51.hit === 'false') {
              ySpeed = -ySpeed;
              brick51.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }
          for (var k = 0; k < brick51.vertSides.length; k++) {
            if (brick51.vertSides[k].equal(ball.position) && brick51.hit === 'false') {
              xSpeed = -xSpeed;
              brick51.hit = 'true';
              score += 1;
              var leftEdge = bat.segments[0];
              var rightEdge = bat.segments[bat.segments.length - 1];
              var newRightEdge;
              var newLeftEdge;
              newRightEdge = new Block(rightEdge.col + 1, rightEdge.row);
              bat.segments.push(newRightEdge);
              newLeftEdge = new Block(leftEdge.col - 1, leftEdge.row);
              bat.segments.unshift(newLeftEdge);
            }
          }

          for (var k = 0; k < brick52.horSides.length; k++) {
            if (brick52.horSides[k].equal(ball.position) && brick52.hit === 'false') {
              ySpeed = -ySpeed;
              brick52.hit = 'true';
              score += 1;
            }
          }
          for (var k = 0; k < brick52.vertSides.length; k++) {
            if (brick52.vertSides[k].equal(ball.position) && brick52.hit === 'false') {
              xSpeed = -xSpeed;
              brick52.hit = 'true';
              score += 1;
            }
          }
        }
      };
      //создаем метод контроля отскоков мяча
      //при достижении границы инвертируем значение текущей скорости
      //x.Speed  или y.Speed
      Ball.prototype.checkCollision = function () {
        if (this.x < 2 || this.x > 116) {
          xSpeed = -xSpeed;
        }
        if (this.y < 2) {
          ySpeed = -ySpeed;
        }
        if (this.y > 68) {
          scoreTry -= 1;
          ySpeed = -ySpeed;
        }
      };
      //******************************************************************************************
      var Brick = function (l, m, color) {
        this.cases = [
          new Block(l, m),
          new Block(l + 1, m),
          new Block(l + 2, m),
          new Block(l + 3, m),
          new Block(l + 4, m),
          new Block(l + 5, m),
          new Block(l + 6, m),
          new Block(l + 7, m),
          new Block(l + 8, m),
          new Block(l, m + 1),
          new Block(l + 1, m + 1),
          new Block(l + 2, m + 1),
          new Block(l + 3, m + 1),
          new Block(l + 4, m + 1),
          new Block(l + 5, m + 1),
          new Block(l + 6, m + 1),
          new Block(l + 7, m + 1),
          new Block(l + 8, m + 1),
          new Block(l, m + 2),
          new Block(l + 1, m + 2),
          new Block(l + 2, m + 2),
          new Block(l + 3, m + 2),
          new Block(l + 4, m + 2),
          new Block(l + 5, m + 2),
          new Block(l + 6, m + 2),
          new Block(l + 7, m + 2),
          new Block(l + 8, m + 2),
          new Block(l, m + 3),
          new Block(l + 1, m + 3),
          new Block(l + 2, m + 3),
          new Block(l + 3, m + 3),
          new Block(l + 4, m + 3),
          new Block(l + 5, m + 3),
          new Block(l + 6, m + 3),
          new Block(l + 7, m + 3),
          new Block(l + 8, m + 3),
        ];
        this.horSides = [
          new Block(l, m),
          new Block(l + 1, m),
          new Block(l + 2, m),
          new Block(l + 3, m),
          new Block(l + 4, m),
          new Block(l + 5, m),
          new Block(l + 6, m),
          new Block(l + 7, m),
          new Block(l + 8, m),
          new Block(l, m + 3),
          new Block(l + 1, m + 3),
          new Block(l + 2, m + 3),
          new Block(l + 3, m + 3),
          new Block(l + 4, m + 3),
          new Block(l + 5, m + 3),
          new Block(l + 6, m + 3),
          new Block(l + 7, m + 3),
          new Block(l + 8, m + 3),
        ];
        this.vertSides = [
          new Block(l, m + 1),
          new Block(l, m + 2),
          new Block(l + 8, m + 1),
          new Block(l + 8, m + 2),
        ];
        this.l = l;
        this.m = m;
        this.color = color;
        this.hit = 'false';
      };

      Brick.prototype.draw = function () {
        if (this.hit === 'false') {
          for (var j = 0; j < this.cases.length; j++) {
            this.cases[j].drawSquare(this.color);
          }
          ctx.beginPath();
          ctx.fillStyle = 'black';
          ctx.moveTo(this.l * blockSize, this.m * blockSize);
          ctx.lineTo((this.l + 9) * blockSize, this.m * blockSize);
          ctx.lineTo((this.l + 9) * blockSize, (this.m + 4) * blockSize);
          ctx.lineTo(this.l * blockSize, (this.m + 4) * blockSize);
          ctx.lineTo(this.l * blockSize, this.m * blockSize);
          ctx.stroke();
        }
      };

      //******************************************************************************************
      //******************************************************************************************
      var bat = new Bat();
      var leftBorder = new LeftBorder();
      var rightBorder = new RightBorder();
      var ball = new Ball();
      //1 раунд
      //первая линия кирпичей
      var brick1 = new Brick(1, 8, 'orange');
      var brick2 = new Brick(10, 8, 'blue');
      var brick3 = new Brick(19, 11, 'orange');
      var brick4 = new Brick(28, 11, 'orange');
      var brick5 = new Brick(37, 8, 'orange');
      var brick6 = new Brick(46, 5, 'orange');
      var brick7 = new Brick(55, 2, 'blue');
      var brick8 = new Brick(64, 5, 'orange');
      var brick9 = new Brick(73, 8, 'orange');
      var brick10 = new Brick(82, 11, 'orange');
      var brick11 = new Brick(91, 11, 'orange');
      var brick12 = new Brick(100, 8, 'blue');
      var brick13 = new Brick(109, 8, 'orange');

      //вторая линия кирпичей
      var brick14 = new Brick(1, 21, 'orange');
      var brick15 = new Brick(10, 21, 'blue');
      var brick16 = new Brick(19, 18, 'orange');
      var brick17 = new Brick(28, 18, 'orange');
      var brick18 = new Brick(37, 21, 'orange');
      var brick19 = new Brick(46, 24, 'orange');
      var brick20 = new Brick(55, 27, 'blue');
      var brick21 = new Brick(64, 24, 'orange');
      var brick22 = new Brick(73, 21, 'orange');
      var brick23 = new Brick(82, 18, 'orange');
      var brick24 = new Brick(91, 18, 'orange');
      var brick25 = new Brick(100, 21, 'blue');
      var brick26 = new Brick(109, 21, 'orange');

      //2 раунд
      //первая линия кирпичей
      var brick27 = new Brick(1, 8, 'orange');
      var brick28 = new Brick(5, 12, 'blue');
      var brick29 = new Brick(10, 16, 'orange');
      var brick30 = new Brick(15, 20, 'orange');
      var brick31 = new Brick(20, 8, 'orange');
      var brick32 = new Brick(25, 12, 'orange');
      var brick33 = new Brick(30, 16, 'blue');
      var brick34 = new Brick(35, 20, 'orange');
      var brick35 = new Brick(40, 8, 'orange');
      var brick36 = new Brick(45, 12, 'orange');
      var brick37 = new Brick(50, 16, 'orange');
      var brick38 = new Brick(55, 20, 'blue');
      var brick39 = new Brick(60, 8, 'orange');

      //вторая линия кирпичей
      var brick40 = new Brick(65, 12, 'orange');
      var brick41 = new Brick(70, 16, 'blue');
      var brick42 = new Brick(75, 20, 'orange');
      var brick43 = new Brick(80, 8, 'orange');
      var brick44 = new Brick(85, 12, 'orange');
      var brick45 = new Brick(90, 16, 'orange');
      var brick46 = new Brick(95, 20, 'blue');
      var brick47 = new Brick(100, 8, 'orange');
      var brick48 = new Brick(105, 12, 'orange');
      var brick49 = new Brick(109, 16, 'orange');
      var brick50 = new Brick(10, 4, 'orange');
      var brick51 = new Brick(50, 4, 'blue');
      var brick52 = new Brick(90, 4, 'orange');

      function play() {
        if (rounds === 1 && score < 26) {
          //1 раунд*****************************
          ctx.clearRect(0, 0, width, height);
          drawBorder();
          drawField();
          drawScore();
          bat.draw();
          ball.draw();
          ball.move();
          ball.checkCollision();
          brick1.draw();
          brick2.draw();
          brick3.draw();
          brick4.draw();
          brick5.draw();
          brick6.draw();
          brick7.draw();
          brick8.draw();
          brick9.draw();
          brick10.draw();
          brick11.draw();
          brick12.draw();
          brick13.draw();
          //рисуем вторую линию ))
          brick14.draw();
          brick15.draw();
          brick16.draw();
          brick17.draw();
          brick18.draw();
          brick19.draw();
          brick20.draw();
          brick21.draw();
          brick22.draw();
          brick23.draw();
          brick24.draw();
          brick25.draw();
          brick26.draw();
        } else if (score > 25) {
          //2 раунд****************************
          //***********************************
          rounds = 2;
          ctx.clearRect(0, 0, width, height);
          drawBorder();
          drawField();
          drawScore();
          bat.draw();
          ball.draw();
          ball.move();
          ball.checkCollision();
          brick27.draw();
          brick28.draw();
          brick29.draw();
          brick30.draw();
          brick31.draw();
          brick32.draw();
          brick33.draw();
          brick34.draw();
          brick35.draw();
          brick36.draw();
          brick37.draw();
          brick38.draw();
          brick39.draw();
          //рисуем вторую линию ))
          brick40.draw();
          brick41.draw();
          brick42.draw();
          brick43.draw();
          brick44.draw();
          brick45.draw();
          brick46.draw();
          brick47.draw();
          brick48.draw();
          brick49.draw();
          brick50.draw();
          brick51.draw();
          brick52.draw();
        }

        if (scoreTry < 1) {
          gameOver();
        }
        if (scoreTry > 0 && score > 51) {
          victory();
        }
        //leftBorder.draw();
        //rightBorder.draw();
      }
      //создаем функцию вывода надписи КОНЕЦ ИГРЫ в конце игры
      var gameOver = function () {
        clearInterval(intervalID);
        ctx.clearRect(0, 0, width, height);
        drawBorder();
        drawField();
        drawScore();
        bat.draw();
        ball.draw();
        ctx.beginPath();
        ctx.font = '60px Courier';
        ctx.fillStyle = 'brown';
        ctx.textBaseline = 'middle';
        ctx.textAlign = 'center';
        ctx.fillText('КОНЕЦ ИГРЫ!', width / 2, height / 2);
      };

      function victory() {
        clearInterval(intervalID);
        ctx.clearRect(0, 0, width, height);
        drawBorder();
        drawField();
        drawScore();
        bat.draw();
        ball.draw();
        ctx.beginPath();
        ctx.font = '60px Courier';
        ctx.fillStyle = 'red';
        ctx.textBaseline = 'middle';
        ctx.textAlign = 'center';
        ctx.fillText('ПОЗДРАВЛЯЕМ! ВЫ ПОБЕДИЛИ!!!', width / 2, height / 2);
      }
      if (rounds === 1 && score < 26) {
        var intervalID = setInterval(play, 25);
      } else if (25 < score < 52) {
        clearInterval(intervalID);
        intervalID = setInterval(play, 18);
      }

      function stop(event) {
        clearInterval(intervalID);
      }
      $('html').click(stop);
    </script>
  </body>
</html>
